services:
  backend:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: wardrobe-backend
    restart: unless-stopped
    ports:
      - "8080:8080"
    environment:
      MONGODB_URI: ${MONGODB_URI}
      MONGODB_DATABASE: ${MONGODB_DATABASE:-default_db}
      JWT_SECRET: ${JWT_SECRET:-replace-with-a-long-random-secret-at-least-32-chars}
      JWT_EXPIRATION_SECONDS: ${JWT_EXPIRATION_SECONDS:-86400}
      CORS_ALLOWED_ORIGINS: ${CORS_ALLOWED_ORIGINS:-http://localhost:4200}
      SPRING_PROFILES_ACTIVE: ${SPRING_PROFILES_ACTIVE:-}
      SPRINGDOC_API_DOCS_ENABLED: ${SPRINGDOC_API_DOCS_ENABLED:-true}
      SPRINGDOC_SWAGGER_UI_ENABLED: ${SPRINGDOC_SWAGGER_UI_ENABLED:-true}
      APP_ENV: ${APP_ENV:-local}
      ACTUATOR_PUBLIC_ENDPOINTS: ${ACTUATOR_PUBLIC_ENDPOINTS:-/actuator/health,/actuator/info}
